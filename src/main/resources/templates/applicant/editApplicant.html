<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head data-th-replace="~{fragments/headerSection :: headerSectionFragment}" ></head >
<body class="hold-transition sidebar-mini layout-fixed" >
<div class="wrapper" >
  <!-- wrapper start -->
  <nav data-th-replace="~{fragments/navbarSection :: navbarSectionFragment}" ></nav >
  <!-- navbar Section -->
  <aside data-th-replace="~{fragments/sidebarSection :: sidebarSectionFragment}" ></aside >
  <!-- navbar Section -->
  <div class="content-wrapper" ><!-- content-wrapper Start -->
    <section data-th-replace="~{fragments/contentHeader :: contentHeaderSectionFragment}" ></section >
                                <!--        &lt;!&ndash; Form Header  Path &ndash;&gt;-->
                                <!--        <section data-th-replace="~{fragments/smallBoxSection :: smallBoxSectionFragment}"></section>-->
                                <!-- Small Box Set -->
    <div class="content-header" >
      <div class="container-fluid" >
        <div class="row" >
          <div class="col-md-12" >
            <div class="row" >
              <div class="col-md-12" >
                <div class="card" >
                  <div class="card-body" >
                    <!--                                        <h4>First sud Header</h4>-->
                    <form role="form" >
                      <div align="right" >
                        <a class="btn btn-success" id="newDistrict" data-th-href="${'/applicant'}" >
                          <i class="far fa-building" style="font-size: 18px;" ></i > &nbsp;
                                                                                     Applicant View </a >
                        <a class="btn btn-info" id="newDistrict" data-th-href="${'/home'}" >
                          <i class="far fa-building" style="font-size: 18px;" ></i > &nbsp; Back
                                                                                     to Home </a >
                      </div >
                    </form >
                  </div >
                </div >
              </div >
              <div class="col-md-12" >
                <div class="card" >
                  <div class="card-body" >
                    <h4 >Update New Applicant</h4 >
                    <form enctype="multipart/form-data"
                          method="post"
                          data-th-action="${addStatus==true?'/applicant/save' :'/applicant/update'}"
                          data-th-object="${applicant}" >
                      <div class="row" >
                        <!--left side-->
                        <div class="col-md-6" ><!--Left Side-->
                                               <!--ID -->
                          <div class="form-row text-right" id="idStatus"
                               data-th-if="${addStatus==false}" >

                            <label class="control-label" for="code" >Code :</label >
                            <input class="form-control" id="id" readonly data-th-field="*{id}"
                                   type="text" hidden />
                            <input class="form-control" id="code" readonly data-th-field="*{code}"
                                   type="text" />

                          </div >
                                               <!--Full Name-->
                          <div class="form-group" >

                            <label class="control-label" >Full Name :</label >
                            <input class="form-control" id="name"
                                   required
                                   data-th-field="*{nameInFullName}" type="text" />
                            <span class="error" id="nameError"
                                  data-th-errors="*{nameInFullName}"
                                  data-th-if="${#fields.hasErrors('nameInFullName')}" >Error Name</span >
                          </div >
                                               <!--Name with Initials-->
                          <div class="form-group" >
                            <label class="control-label" for="callingName" >Name With Initial
                                                                            :</label >
                            <input class="form-control" id="callingName"
                                   minlength="5" tabindex="5" data-th-field="*{nameWithInitial}"
                                   type="text" />
                            <span class="error" id="callingNameError"
                                  data-th-errors="*{nameWithInitial}"
                                  data-th-if="${#fields.hasErrors('nameWithInitial')}" >Error
                                                                       Calling                                                                                                                        Name</span >
                          </div >
                                               <!--Nic-->
                          <div class="form-group" >

                            <label class="control-label" for="nic" >NIC No :</label >

                            <input class="form-control" id="nic" maxlength="12"
                                   minlength="10" required
                                   tabindex="6"
                                   data-th-field="*{nic}" type="text" readonly />
                            <span class="error" id="nicError" data-th-errors="*{nic}"
                                  data-th-if="${#fields.hasErrors('nic')}" >Error
                                                               NIC Number</span >

                          </div ><!--Gender-->
                          <div class="form-row text-right" >
                            <label class="control-label" for="gender" >Gender :</label >
                            <div class="custom-control custom-checkbox custom-control-inline ml-4"
                                 data-th-each="gender,index : ${genders}" >
                              <input class="custom-control-input gender" required
                                     data-th-name="${'gender'}"
                                     data-th-value="${gender}"
                                     data-th-id="${index.index}+${gender}"
                                     type="radio"
                                     data-th-checked="${gender==applicant.gender}" />
                              <label class="custom-control-label"
                                     data-th-for="${index.index}+${gender}"
                                     data-th-text="${gender.gender}" > radio
                              </label >
                            </div >
                          </div >
                                               <!--Date of birth-->
                          <div class="form-row text-right" >
                            <label class="control-label" for="dateOfBirth" >Birth date
                                                                            :</label >
                            <input id="dateOfBirth" data-th-field="*{dateOfBirth}"
                                   class="form-control" tabindex="8"
                                   placeholder="Ex: 1990 - 01 - 20"
                                   required type="date" />
                            <span id="dateOfBirthError" data-th-errors="*{dateOfBirth}"
                                  data-th-if="${#fields.hasErrors('dateOfBirth')}"
                                  class="error" >Error Birthday</span >
                          </div >
                                               <!--Nationality-->
                          <div class="form-group" >

                            <label class="control-label" for="nationality" >Nationality
                                                                            :</label >
                            <div class="row" >
                              <div class="custom-control custom-checkbox custom-control-inline ml-4"
                                   data-th-each="nationality,index : ${nationalities}" >
                                <input class="custom-control-input gender" required
                                       data-th-name="${'nationality'}"
                                       data-th-value="${nationality}"
                                       data-th-id="${index.index}+${nationality}"
                                       type="radio"
                                       data-th-checked="${nationality==applicant.nationality}" />
                                <label class="custom-control-label"
                                       data-th-for="${index.index}+${nationality}"
                                       data-th-text="${nationality.nationality}" > radio
                                </label >
                              </div >
                            </div >
                          </div >
                        </div >
                        <!--Right Side-->
                        <div class="col-md-6" >
                          <!--CivilStatus-->
                          <div class="form-group" >
                            <label class="control-label" for="civilStatus" >Civil Status
                                                                            :</label >
                            <div class="row" >
                              <div class="custom-control custom-checkbox custom-control-inline ml-4"
                                   data-th-each="civilStatus,index : ${civilStatuses}" >
                                <input class="custom-control-input gender" required
                                       data-th-name="${'civilStatus'}"
                                       data-th-value="${civilStatus}"
                                       data-th-id="${index.index}+${civilStatus}"
                                       type="radio"
                                       data-th-checked="${civilStatus==applicant.civilStatus}" />
                                <label class="custom-control-label"
                                       data-th-for="${index.index}+${civilStatus}"
                                       data-th-text="${civilStatus.civilStatus}" > radio
                                </label >
                              </div >
                            </div >
                          </div >
                          <!--Address-->
                          <div class="form-group" >
                            <label class="control-label" for="address" >Address :</label >
                            <textarea class="form-control" id="address"
                                      required tabindex="12"
                                      data-th-field="*{address}" rows="2" ></textarea >
                            <span class="error" id="addressError"
                                  data-th-errors="*{address}"
                                  data-th-if="${#fields.hasErrors('address')}" >Error Address</span >
                          </div >
                          <!--Mobile Number-->
                          <div class="form-group" >
                            <label class="control-label" for="mobile" >Mobile No
                                                                       :</label >
                            <input class="form-control mobile" id="mobile"
                                   maxlength="10" min="9"
                                   required
                                   tabindex="13" data-th-field="*{mobile}"
                                   type="text" />
                            <span class="error" id="mobileOneError"
                                  data-th-errors="*{mobile}"
                                  data-th-if="${#fields.hasErrors('mobile')}" >Error Mobile Number</span >
                          </div >
                          <!--Land No-->
                          <div class="form-group" >
                            <label class="control-label" for="land" >Land No
                                                                     :</label >
                            <input class="form-control land" id="land" type="text"
                                   minlength="9" maxlength="10" tabindex="5" data-th-field="*{land}"
                            />
                            <span class="error" id="landError"
                                  data-th-errors="*{land}"
                                  data-th-if="${#fields.hasErrors('land')}" >Error
                                                                       Calling                                                                                                                        Name</span >
                          </div >
                          <!--Email-->
                          <div class="form-group" >
                            <label class="control-label" for="email" >Email :</label >

                            <input class="form-control" id="email" required
                                   tabindex="16" data-th-field="*{email}"
                                   type="text" readonly />
                            <span class="error" id="emailError"
                                  data-th-errors="*{email}"
                                  data-th-if="${#fields.hasErrors('email')}" >Error Email</span >

                          </div >
                        </div >
                        <!--Gramaniladari find-->
                        <div class="form-row mb-2 col-md-12" >
                          <!--Height-->
                          <div class="col-4" >

                            <label class="control-label" for="height" >Height(cm) :</label >

                            <input class="form-control" id="height" maxlength="12"
                                   minlength="10" required
                                   tabindex="6"
                                   data-th-field="*{height}" type="number" min="0" />
                            <span ><i ><small >(Height must be 162cm)</small ></i ></span >

                          </div >
                          <!--Weight-->
                          <div class="col-4" >

                            <label class="control-label" for="weight" >Weight(Kg) :</label >

                            <input class="form-control" id="weight" maxlength="12"
                                   minlength="10" required
                                   tabindex="6"
                                   data-th-field="*{weight}" type="number" min="0" step="0.5" />
                            <span ><i ><small >(Weight must be 60Kg)</small ></i ></span >

                          </div >
                          <!--chest-->
                          <div class="col-4" >
                            <label class="control-label" for="chest" >Chest(cm) :</label >
                            <input class="form-control" id="chest" maxlength="12"
                                   minlength="10" required
                                   tabindex="6"
                                   data-th-field="*{chest}" type="number" min="0" />
                            <span ><i ><small >(Chest must be 34cm(Male) & 36cm(Female))</small ></i ></span >
                          </div >
                        </div >
                        <div class="form-row mb-2 col-md-12" >
                          <!--Province-->
                          <div class=" col-md-2" >
                            <label class="form-label " data-th-for="province" > Province </label >
                            <select class="form-control" id="province"
                                    data-th-value="${applicant.gramaNiladhari.policeStation.agOffice.district.province}" >
                              <option value="" >Please Select</option >
                              <option data-th-each="province : ${provinces}"
                                      data-th-text="${province.province}"
                                      data-th-value="${province}" ></option >
                            </select >
                          </div >
                          <!--District-->
                          <div class=" col-md-2" >
                            <label class="form-label " for="district" > District </label >

                            <select class="form-control" id="district" >
                              <option value="" >Please Select</option >
                              <option data-th-each="district : ${districts}"
                                      data-th-text="${district.name}"
                                      data-th-value="${district.id}" ></option >
                            </select >
                          </div >
                          <!--AgOffice-->
                          <div class=" col-md-2 " >
                            <label class="form-label " data-th-for="${'agOffice'}" > Ag
                                                                                     Office </label >

                            <select class="form-control" id="agOffice" >
                              <option value="" >Please Select</option >
                              <option data-th-each="agOffice : ${agOffices}"
                                      data-th-text="${agOffice.name}"
                                      data-th-value="${agOffice.id}" ></option >
                            </select >
                          </div >
                          <!--Police-->
                          <div class=" col-md-2 " >
                            <label class="form-label " data-th-for="${'policeStation'}" > Police
                                                                                          Station </label >

                            <select class="form-control" id="policeStation"
                                    data-th-value="${applicant.gramaNiladhari.policeStation.id}" >
                              <option value="" > Please Select</option >
                              <option data-th-each="policeStation : ${policeStations}"
                                      data-th-text="${policeStation.name}"
                                      data-th-value="${policeStation.id}" ></option >
                            </select >
                          </div >
                          <!--GramaNiladhariDivision-->
                          <div class=" col-md-3" >
                            <label class="control-label" for="gramaNiladhari" >Grama
                                                                               Niladhari Division :</label >
                            <select class="form-control" id="gramaNiladhari" required
                                    tabindex="16" data-th-field="*{gramaNiladhari}" >
                              <option value="" >Please Select</option >
                              <option data-th-each="gramaNiladhari : ${gramaNiladharis}"
                                      data-th-text="${gramaNiladhari.name}"
                                      data-th-value="${gramaNiladhari.id}" ></option >
                            </select >
                          </div >


                        </div >
                        <!--photo -->
                        <div class="form-row col-md-6 mb-3 " >
                          <div class="col-md-3 mr-5" >
                            <label class="control-label" >Image</label >
                            <input type="file" name="file" id="imgUpload"
                                   accept="image/x-png,image/gif,image/jpeg" />
                          </div >
                          <div class="col-md-3" ></div >
                          <div class="col-md-3 ml-5" >
                            <!--photo details-->
                            <img class="img-fluid ml-5" data-th-if="${addStatus==false}"
                                 data-th-src="${file.url}" id="image" alt=""
                                 style="height: 100px;" >
                            <img class="img-fluid ml-5" data-th-if="${addStatus==true}" src=""
                                 id="image" alt=""
                                 style="height: 100px;" >
                          </div >
                        </div >
                        <!--/* Educational Detail */-->
                        <div class="form-row container-fluid border-right" >
                          <div class="form-group form-row col-12 pt-5 flex-column" >
                            <p class="font-weight-bold font-italic ml-5 border-bottom p-3 darkmode--activated" >
                              Educational
                              Details</p >
                          </div >
                          <!--/* Left Side - O/L */-->
                          <div class="form-group form-row col-12 pt-5 border" >
                            <div class="form-row form-group" >
                              <p class="font-weight-bold font-italic ml-5 border-bottom p-3 darkmode--activated" >
                                Ordinary Level Exam</p >
                            </div >
                            <div class="form-row container-fluid" >
                              <div class="form-group form-row container-fluid"
                                   data-th-if="${addStatus==true}" >
                                <!--/*Index number one O/L*/-->
                                <div class="form-row" >
                                  <!--/*index one*/-->
                                  <label class="darkmode--activated col-sm-3"
                                         for="indexOneOL" >Index No
                                                           :</label >
                                  <input class="col-sm-4 form-control"
                                         id="indexOneOL" required tabindex="18"
                                         type="text" />
                                  <!--/*Year one*/-->
                                  <label class="darkmode--activated col-sm-2 pl-3"
                                         for="yearOneOL" >Year
                                                          :</label >
                                  <input class="col-sm-2 form-control"
                                         id="yearOneOL" maxlength="4" required
                                         tabindex="19"
                                         type="text" />
                                </div >
                                <!--/*Index number two O/L*/-->
                                <div class="form-row" >
                                  <!--/*index Two*/-->
                                  <label class="darkmode--activated col-sm-3"
                                         for="indexTwoOL" >Index No
                                                           :</label >
                                  <input class="col-sm-4 form-control"
                                         id="indexTwoOL" tabindex="20"
                                         type="text" />
                                  <!--/*Year Two*/-->
                                  <label class="darkmode--activated col-sm-2 pl-3"
                                         for="yearTwoOL" >Year
                                                          :</label >
                                  <input class="col-sm-2 form-control"
                                         id="yearTwoOL" maxlength="4"
                                         tabindex="21"
                                         type="text" />
                                </div >
                              </div >
                              <!--/*When edit result display*/-->
                              <div class="container-fluid " >
                                <table class="table table-striped table-inverse" >
                                  <thead class="thead-inverse" >
                                  <tr >
                                    <th >Subject</th >
                                    <th >Result</th >
                                    <th >Year</th >
                                    <th >Index Number</th >
                                    <th >Attempt</th >
                                  </tr >
                                  </thead >
                                  <!--/* when O/L result update state */-->
                                  <tbody >
                                  <tr data-th-each="studentResult, index : ${applicant.applicantResults}"
                                      data-th-if="${#strings.equals(studentResult.streamLevel,'OL')} and ${studentResult.subjectName != null}" >
                                    <td >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].id'}"
                                             data-th-value="${studentResult.id}"
                                             hidden type="text" >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].streamLevel'}"
                                             data-th-value="${studentResult.streamLevel}"
                                             hidden
                                             type="text" >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].compulsoryOLSubject'}"
                                             data-th-value="${studentResult.compulsoryOLSubject}"
                                             hidden
                                             type="text" >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].subjectName'}"
                                             data-th-value="${studentResult.subjectName}"
                                             readonly
                                             type="text" >
                                    </td >
                                    <td >
                                      <select class="form-control"
                                              data-th-name="${'applicantResults[__${index.index}__].subjectResult'}" >
                                        <option data-th-each="subjectResult : ${subjectResults}"
                                                data-th-selected="${subjectResult==studentResult.subjectResult}"
                                                data-th-text="${subjectResult.subjectResult}"
                                                data-th-value="${subjectResult}" ></option >
                                      </select >
                                    </td >
                                    <td >
                                      <input class="form-control" minlength="4" maxlength="4"
                                             data-th-name="${'applicantResults[__${index.index}__].year'}"
                                             data-th-value="${studentResult.year}"
                                             type="text" >
                                    </td >
                                    <td >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].indexNumber'}"
                                             data-th-value="${studentResult.indexNumber}"
                                             type="text" >
                                    </td >
                                    <td >
                                      <select class="form-control"
                                              data-th-name="${'applicantResults[__${index.index}__].attempt'}" >
                                        <option disabled selected value="" >
                                          Choose
                                        </option >
                                        <option data-th-each="attempt : ${attempts}"
                                                data-th-selected="${attempt==studentResult.attempt}"
                                                data-th-text="${attempt.attempt}"
                                                data-th-value="${attempt}"
                                        ></option >
                                      </select >
                                    </td >
                                  </tr >
                                  </tbody >
                                </table >
                              </div >
                            </div >
                          </div >
                          <!--/* Right Side - A/L */-->
                          <div class="form-group form-row col-12 pt-5 border" >
                            <div class="form-row form-group" >
                              <p class="font-weight-bold font-italic ml-5 border-bottom p-3 darkmode--activated" >
                                Advance
                                Level Exam</p >
                            </div >
                            <div class="form-row container-fluid" >
                              <!--/*When edit result display*/-->
                              <div class="container-fluid table-responsive" >
                                <table class="table table-striped table-inverse" >
                                  <thead class="thead-inverse" >
                                  <tr >
                                    <th >Subject</th >
                                    <th >Result</th >
                                    <th >Year</th >
                                    <th >Index Number</th >
                                  </tr >
                                  </thead >
                                  <!--/*when A/L result update state*/-->
                                  <tbody >
                                  <tr data-th-each="studentResult, index : ${applicant.applicantResults}"
                                      data-th-if="${#strings.equals(studentResult.streamLevel,'AL')} and ${studentResult.subjectName != null}" >
                                    <td >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].id'}"
                                             data-th-value="${studentResult.id}"
                                             hidden type="text" >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].streamLevel'}"
                                             data-th-value="${studentResult.streamLevel}"
                                             hidden
                                             type="text" >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].compulsoryOLSubject'}"
                                             data-th-value="${studentResult.compulsoryOLSubject}"
                                             hidden
                                             type="text" >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].subjectName'}"
                                             data-th-value="${studentResult.subjectName}"
                                             readonly
                                             type="text" >
                                    </td >
                                    <td data-th-if="${studentResult.mark== null}" >
                                      <select class="form-control"
                                              data-th-name="${'applicantResults[__${index.index}__].subjectResult'}" >
                                        <option data-th-each="subjectResult : ${subjectResults}"
                                                data-th-selected="${subjectResult==studentResult.subjectResult}"
                                                data-th-text="${subjectResult.subjectResult}"
                                                data-th-value="${subjectResult}" ></option >
                                      </select >
                                    </td >
                                    <td data-th-if="${studentResult.mark != null}" >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].mark'}"
                                             data-th-value="${studentResult.mark}"
                                             type="text" >
                                    </td >
                                    <td >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].year'}"
                                             data-th-value="${studentResult.year}"
                                             type="text" minlength="4" maxlength="4" >
                                    </td >
                                    <td >
                                      <input class="form-control"
                                             data-th-name="${'applicantResults[__${index.index}__].indexNumber'}"
                                             data-th-value="${studentResult.indexNumber}"
                                             type="text" >
                                    </td >
                                  </tr >
                                  </tbody >
                                </table >
                              </div >
                            </div >
                          </div >
                          <div class="form-group form-row col-12 pt-3 flex-column" >
                            <table class="table table-striped table-inverse table-responsive"
                                   id="degreeTable" >
                              <thead class="thead-inverse" >
                              <tr >
                                <th >Degree Name</th >
                                <th >University Or Institute</th >
                                <th >Year</th >
                                <th >Modify</th >
                              </tr >
                              </thead >
                              <tbody >
                              <tr data-th-each="applicantDegreeResult, index : ${applicant.applicantDegreeResults}" >
                                <td >
                                  <input type="text" class="form-control"
                                         data-th-name="${'applicantDegreeResults[__${index.index}__].id'}" hidden
                                         data-th-value="${applicantDegreeResult.id}" >
                                  <input type="text" class="form-control"
                                         data-th-value="${applicantDegreeResult.degreeName}"
                                         data-th-name="${'applicantDegreeResults[__${index.index}__].degreeName'}" >
                                </td >
                                <td >
                                  <input type="text" class="form-control"
                                         data-th-value="${applicantDegreeResult.universityName}"
                                         data-th-name="${'applicantDegreeResults[__${index.index}__].universityName'}" >
                                </td >
                                <td >
                                  <input type="text" class="form-control" minlength="4" maxlength="4"
                                         data-th-value="${applicantDegreeResult.year}"
                                         data-th-name="${'applicantDegreeResults[__${index.index}__].year'}" >
                                </td >
                                <td >
                                  <button type="button" onclick="removeDegreeTableRow(this)" class="btn btn-danger" >
                                    Remove
                                  </button >
                                </td >
                              </tr >
                              </tbody >
                            </table >
                            <div class="container-fluid" >
                              <button class="btn btn-info" type="button" id="newDegree" >
                                Add New Degree
                              </button >
                            </div >
                          </div >
                        </div >
                      </div >
                      <!--non relative-->
                      <div class="form-row container-fluid" >
                        <div class="container-fluid" >
                          <h3 >No Relatives</h3 >
                        </div ><!--non relative one-->
                        <div class="form-group col-md-6 col-sm-6 text-left flex-column"
                             data-th-each="applicantNonRelative, index : ${applicant.applicantNonRelatives}" >
                          <!-- Name-->
                          <div class="form-group" >
                            <label class="control-label" >Name :</label >
                            <input class="form-control"
                                   data-th-value="${applicantNonRelative.id}"
                                   data-th-name="${'applicantNonRelatives[__${index.index}__].id'}" type="text" required
                                   hidden />
                            <input class="form-control"
                                   data-th-value="${applicantNonRelative.name}"
                                   data-th-name="${'applicantNonRelatives[__${index.index}__].name'}" type="text"
                                   required />
                          </div >
                          <!--Address-->
                          <div class="form-group" >
                            <label class="control-label" for="address" >Address :</label >
                            <textarea class="form-control text-black"
                                      data-th-utext="${applicantNonRelative.address}"
                                      data-th-name="${'applicantNonRelatives[__${index.index}__].address'}" rows="4"
                                      required >
                            </textarea >
                          </div >
                          <!--Mobile Number-->
                          <div class="form-group" >
                            <label class="control-label" for="mobile" >Mobile No
                                                                       :</label >
                            <input class="form-control mobile"
                                   maxlength="10" min="9"
                                   required
                                   tabindex="13" data-th-value="${applicantNonRelative.mobile}"
                                   data-th-name="${'applicantNonRelatives[__${index.index}__].mobile'}"
                                   type="text" />
                          </div >
                          <!--Land No-->
                          <div class="form-group" >
                            <label class="control-label" for="land" >Land No
                                                                     :</label >
                            <input class="form-control land"
                                   maxlength="10" min="9" tabindex="5" data-th-value="${applicantNonRelative.land}"
                                   data-th-name="${'applicantNonRelatives[__${index.index}__].land'}"
                                   type="text" />
                          </div >
                        </div >
                      </div >
                      <div class="form-group col-md-12 col-sm-12 text-center flex-column " >
                        <button class="btn btn-warning mr-5 darkmode--activated" tabindex="65"
                                type="reset" >
                          Clear
                        </button >
                        <button class="btn btn-success" tabindex="64" type="submit" >
                          <span data-th-text="${addStatus==true?'Save': 'Update'}" ></span >
                        </button >
                      </div >
                    </form >
                  </div >
                </div >
              </div >
            </div >
          </div >
        </div >
      </div >
    </div >
  </div ><!-- content-wrapper end -->
  <div data-th-replace="~{fragments/footerSection :: footerSectionFragment}" ></div ><!-- footer Section -->
</div ><!-- wrapper end -->

<div data-th-if="${addStatus==false}" >
  <input type="text" id="addStatusValue" hidden data-th-value="${addStatus}" >
  <input type="text" id="provinceValue" hidden
         data-th-value="${applicant.gramaNiladhari.policeStation.agOffice.district.province}" >
  <input type="text" id="districtValue" hidden
         data-th-value="${applicant.gramaNiladhari.policeStation.agOffice.district.id}" >
  <input type="text" id="agOfficeValue" hidden data-th-value="${applicant.gramaNiladhari.policeStation.agOffice.id}" >
  <input type="text" id="policeStationValue" hidden data-th-value="${applicant.gramaNiladhari.policeStation.id}" >
  <input type="text" id="gramaNiladhariValue" hidden data-th-value="${applicant.gramaNiladhari.id}" >
</div >
<div data-th-replace="~{fragments/scriptSection :: scriptSectionFragment}" ></div ><!-- script Fragment -->
<script >

    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#image').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]); // convert to base64 string
        }
    }

    $("#imgUpload").change(function () {
        readURL(this);
        $("#previousImg").css("display", "none");
    });

    $('#province').bind("change", function () {
        provinceChange($(this).val());
    });
    $('#district').bind("change", function () {
        districtChange($(this).val());
    });
    $('#agOffice').bind("change", function () {
        agOfficeChange($(this).val());
    });
    $('#policeStation').bind("change", function () {
        policeStationChange($(this).val());
    });
    let optionFieldAdd = (url, id) => {
        let html = "<option value=''>Please select</option>";
        $.get(url, function (data) {
            data.forEach((item) => {
                    html += `<option value="${item.id}">${item.name} </option>`
                }
            )
            $(`#${id}`).html(html);
        });
    };

    function provinceChange(id) {
        let url = "[[${districtURL}]]" + id;
        optionFieldAdd(url, "district");
        $('#district').html(`<option value="">Please Select </option>`);
        $('#agOffice').html(`<option value="">Please Select </option>`);
        $('#policeStation').html(`<option value="">Please Select </option>`);
        $('#gramaNiladhari').html(`<option value="">Please Select </option>`);
    }

    function districtChange(id) {
        let url = "[[${agOfficeURL}]]" + id;
        optionFieldAdd(url, "agOffice");
        $('#agOffice').html(`<option value="">Please Select </option>`);
        $('#policeStation').html(`<option value="">Please Select </option>`);
        $('#gramaNiladhari').html(`<option value="">Please Select </option>`);
    }

    function agOfficeChange(id) {
        let url = "[[${policeStationURL}]]" + id;
        optionFieldAdd(url, "policeStation");
        $('#policeStation').html(`<option value="">Please Select </option>`);
        $('#gramaNiladhari').html(`<option value="">Please Select </option>`);
    }

    function policeStationChange(id) {
        let url = "[[${gramaNiladariURL}]]" + id;
        optionFieldAdd(url, "gramaNiladhari");
        $('#gramaNiladhari').html(`<option value="">Please Select </option>`);
    }

    $(document).ready(function () {
        let addStatusValue = $("#addStatusValue").val();

        if (addStatusValue !== undefined) {
            $('#province').val($('#provinceValue').val());
            $('#district').val($('#districtValue').val());
            $('#agOffice').val($('#agOfficeValue').val());
            $('#policeStation').val($('#policeStationValue').val());
            $('#gramaNiladhari').val($('#gramaNiladhariValue').val());
        }
    })

    // to add subject result
    function readURL(input) {
        if (input.files && input.files[0]) {
            let reader = new FileReader();

            reader.onload = function (e) {
                $('#image').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]); // convert to base64 string
        }
    }

    //display selected image
    $("#imgInput").change(function () {
        readURL(this);
    });
    //check attempt and set value relevant filed
    //OL result
    //subject one
    $("#subOLOneAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLOneIndex").val(olOneIndexNumber);
            $("#subOLOneSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLOneIndex").val(olTwoIndexNumber);
            $("#subOLOneSubYear").val(olTwoYear);
        }
    });
    //subject two
    $("#subOLTwoAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLTwoIndex").val(olOneIndexNumber);
            $("#subOLTwoSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLTwoIndex").val(olTwoIndexNumber);
            $("#subOLTwoSubYear").val(olTwoYear);
        }
    });
    //subject three
    $("#subOLThreeAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLThreeIndex").val(olOneIndexNumber);
            $("#subOLThreeSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLThreeIndex").val(olTwoIndexNumber);
            $("#subOLThreeSubYear").val(olTwoYear);
        }
    });
    //subject four
    $("#subOLFourAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLFourIndex").val(olOneIndexNumber);
            $("#subOLFourSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLFourIndex").val(olTwoIndexNumber);
            $("#subOLFourSubYear").val(olTwoYear);
        }
    });
    //subject five
    $("#subOLFiveAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLFiveIndex").val(olOneIndexNumber);
            $("#subOLFiveSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLFiveIndex").val(olTwoIndexNumber);
            $("#subOLFiveSubYear").val(olTwoYear);
        }
    });
    //subject six
    $("#subOLSixAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLSixIndex").val(olOneIndexNumber);
            $("#subOLSixSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLSixIndex").val(olTwoIndexNumber);
            $("#subOLSixSubYear").val(olTwoYear);
        }
    });
    //subject seven
    $("#subOLSevenAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLSevenIndex").val(olOneIndexNumber);
            $("#subOLSevenSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLSevenIndex").val(olTwoIndexNumber);
            $("#subOLSevenSubYear").val(olTwoYear);
        }
    });
    //subject eight
    $("#subOLEightAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLEightIndex").val(olOneIndexNumber);
            $("#subOLEightSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLEightIndex").val(olTwoIndexNumber);
            $("#subOLEightSubYear").val(olTwoYear);
        }
    });
    //subject nine
    $("#subOLNineAttempt").bind("change", function () {

        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLNineIndex").val(olOneIndexNumber);
            $("#subOLNineSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLNineIndex").val(olTwoIndexNumber);
            $("#subOLNineSubYear").val(olTwoYear);
        }
    });
    //subject ten
    $("#subOLTenAttempt").bind("change", function () {
        let olOneIndexNumber = $("#indexOneOL").val();
        let olOneYear = $("#yearOneOL").val();
        let olTwoIndexNumber = $("#indexTwoOL").val();
        let olTwoYear = $("#yearTwoOL").val();
        if ($(this).val() === 'FIRST') {
            if (olOneIndexNumber.length === 0 || olOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLTenIndex").val(olOneIndexNumber);
            $("#subOLTenSubYear").val(olOneYear);
        } else {
            if (olTwoIndexNumber.length === 0 || olTwoYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level Second Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
            $("#subOLTenIndex").val(olTwoIndexNumber);
            $("#subOLTenSubYear").val(olTwoYear);
        }
    });
    //AL result
    //subject one
    $("#subALOneSubName").bind("keyup", function () {
        let alOneIndexNumber = $("#indexOneAL").val();
        let alOneYear = $("#yearOneAL").val();
        if ($(this).val() === 'FIRST') {
            if (alOneIndexNumber.length === 0 || alOneYear.length === 0) {
                swal({
                    title: "Could You Please Check Ordinary Level First Attempt Index Number and Year",
                    icon: "warning",
                    text: "Please Enter Second Attempt Index Number and Year !",
                });
            }
        }
        $("#subALOneIndex").val(alOneIndexNumber);
        $("#subALOneSubYear").val(alOneYear);
    });
    //subject two
    $("#subALTwoSubName").bind("keyup", function () {
        let alOneIndexNumber = $("#indexOneAL").val();
        let alOneYear = $("#yearOneAL").val();
        $("#subALTwoIndex").val(alOneIndexNumber);
        $("#subALTwoSubYear").val(alOneYear);
    });    //subject three
    $("#subALThreeSubName").bind("keyup", function () {
        let alOneIndexNumber = $("#indexOneAL").val();
        let alOneYear = $("#yearOneAL").val();
        $("#subALThreeIndex").val(alOneIndexNumber);
        $("#subALThreeSubYear").val(alOneYear);
    });
    //subject four
    $("#alResultEn").bind("change", function () {
        let alOneIndexNumber = $("#indexOneAL").val();
        let alOneYear = $("#yearOneAL").val();
        $("#subALFourIndex").val(alOneIndexNumber);
        $("#subALFourSubYear").val(alOneYear);
    });
    //subject five
    $("#marks").bind("keyup", function () {
        let alOneIndexNumber = $("#indexOneAL").val();
        let alOneYear = $("#yearOneAL").val();
        $("#subALFiveIndex").val(alOneIndexNumber);
        $("#subALFiveSubYear").val(alOneYear);
    });

    //DEGREE result table
    $("#newDegree").bind("click", function () {
        let rowLength = $('#degreeTable tbody > tr').length;
        let html = `<tr>
           <td scope="row"><input type="text" class="form-control" name="applicantDegreeResults[${rowLength}].degreeName"></td>
           <td><input type="text" class="form-control" name="applicantDegreeResults[${rowLength}].universityName"></td>
           <td><input type="text" class="form-control" name="applicantDegreeResults[${rowLength}].year" minlength="4" maxlength="4"></td>
           <td> <button type="button" onclick="removeDegreeTableRow(this)" class="btn btn-danger">Remove</button></td>
          </tr>`
        $('#degreeTable> tbody:last-child').append(html);
    });

    function removeDegreeTableRow(obj) {
        document.getElementById("degreeTable").deleteRow(obj.parentNode.parentNode.rowIndex);

    }


</script >
</body >
</html >
